<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

	<bean id="executor" class="com.hikvision.finance.fwork.core.executor.ExecutorBean" autowire="byName"/>

	<!-- 任务调度工厂 -->
	<bean id="schedulerFactory" class="com.ivms6.core.scheduler.SchedulerFactory">
		<property name="executor" ref="executor"/>
	</bean>
	
	<!-- 启动任务调度程序 -->
	<bean id="task" class="org.springframework.beans.factory.config.MethodInvokingFactoryBean" p:targetObject-ref="schedulerFactory" p:targetMethod="start">
	</bean>

	<!-- 每天0点5分0秒执行-->
	<bean id="dailyTimeTask" class="com.hikvision.finance.fms.common.timetask.DailyTimeTask" autowire="byName">
		<property name="schedulingPattern" value="0 5 0 * * *"></property>
	</bean>
	
	<!-- 授权更新定时任务 , 每2分钟（0秒时）执行一次-->
	<bean id="licenseTimeTask" class="com.hikvision.finance.fms.license.task.LicenseTask" autowire="byName">
		<property name="schedulingPattern" value="0 */2 * * * *"></property>
	</bean>
	
	<!-- 每10分钟执行一次，防止缓存失效-->
	<bean id="memoryTimeTask" class="com.hikvision.finance.fms.common.timetask.MemoryTimeTask" autowire="byName">
		<property name="schedulingPattern" value="0 */10 * * * *"></property>
	</bean>
	
</beans>